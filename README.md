# TestWeatherForecastWebApi


## Общее описание

Web API приложение, для просмотра температуры погоды за период 14 дней в Петрозаводске. Используются данные с сайта https://open-meteo.com

## Технические характеристики

- платформа .NET 7.0, язык C#
- СУБД - SQL Server, ORM - EFCore 7.0
- тестирование - xUnit

## Использование

- Get запрос: https://localhost:7008/api/temperature
возвращает массив json, содержит список объектов для каждой даты, каждый объект содержит следующие параметры: дата, температура ночью, температура утром, температура днем и температура вечером. Пример: 
[
  {
    "date": "2023-04-03",
    "temperatureCNight": -3,
    "temperatureCMorning": -3,
    "temperatureCAfternoon": -1,
    "temperatureCEvening": -2
  },
  ...
]
При этом обновляется база данных ТОЛЬКО для тех дат, для которых не было данных в базе данных.

- Post запрос: https://localhost:7008/api/temperature/importdata параметр - JSON, пример: {"fromDate": "2023-03-31","toDate": "2023-04-3"}, не более 16-ти дней. обновляет базу данных (если запись с указанной датой существует, обновляет существующую запись)


## Локальный запуск
- Необходимо запустить Microsoft SQL Server, создать базу данных
- В конфигурационном файле `appsettings.Development.json`, вписать свою строку для подключения к базе данных
- в Консоли диспетчера пакетов применить миграции, чтобы создать необходимые таблицы в бд: Update-Database
